 <!-- Product Shop Section Begin -->
    <section class="product-shop spad">
        <div class="container">
            <div class="row ml-5 mr-5">
               <h4 style="margin-left:3%;margin-bottom:2%">My Wishlist</h4>
                <div class="col-lg-12 order-1 order-lg-2">
                    {{!-- <div class="product-show-option">
                        <div class="row">
                            <div class="col-lg-7 col-md-7">
                                <div class="select-option">
                                    <select class="sorting">
                                        <option value="">Default Sorting</option>
                                    </select>
                                    <select class="p-show">
                                        <option value="">Show:</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-lg-5 col-md-5 text-right">
                                <p>Show 01- 09 Of 36 Product</p>
                            </div>
                        </div>
                    </div> --}}
                    {{#if wishlist}}
                    <div class="product-list">
                        <div class="row">
                            {{#each wishlist}}
                            <div class="col-lg-3 col-sm-6" id="{{this.productdetails._id}}">
                                <div class="product-item">
                                    <div class="pi-pic">
                                   <a href="/product?productid={{this.productdetails.productid}}"><img  src="/images/product-images/{{this.productdetails._id}}1.png" alt=""></a>     
                                        {{#if productdetails.offer}}
                                         <div style="background-color:#e7ab3c" class="sale pp-sale">{{this.productdetails.offerpercentage}} %off</div>
                                         {{/if}}
                                        <div class="icon">
                                            <i class="far fa-times-circle" onclick="removeFromWishlist('{{this.productdetails._id}}','{{this.productdetails.productname}}')" style="color: rgb(0, 0, 0);fony-size:1rem"></i>
                                        </div>
                                        <ul>
                                             {{!-- <li class="w-icon active"><a href="#"><i class="icon_bag_alt"></i></a></li>  --}}
                                            <li class="quick-view" style="width:100%;cursor: pointer;"><a  style="color:#e7ab3c;" onclick="wishlistAddtoCart('{{this.productdetails.productid}}')" data-toggle="modal" data-target="#exampleModalLong"><i class="fas fa-shopping-cart mr-3"></i>MOVE TO BAG</a></li>
                                         {{!-- <li class=""><a><i class="far fa-heart"></i></a></li>  --}}
                                        </ul>
                                    </div>
                                    <div class="pi-text">
                                        <div class="catagory-name">{{this.productdetails.brand}}</div>
                                        <a href="/product?productid={{this.productdetails.productid}}">
                                            <h5>{{this.productdetails.productname}}</h5>
                                        </a>
                                        <div class="product-price">
                                           <i class="fas fa-rupee-sign"></i> {{this.productdetails.price}}
                                           {{#if this.productdetails.offer}}
                                             <span>{{this.productdetails.landingprice}}</span>
                                             {{/if}} 
                                        </div>
                                    </div>
                                </div>
                            </div>

     {{/each}}    
                           <!-- Modal -->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
<div class="row">
    <div class="col-3">
          <img  src="" id="proimagemodal" alt="">
          </div>
   <div class="col-9">
   <div class="pi-text">
                                        <div class="catagory-name" style="color: rgb(139, 143, 146);" id="brandnamemodal"></div>
                                        <a href="">
                                            <h5 id="modalproductname">{{this.productdetails.productname}}</h5>
                                        </a>
                                        <div class="product-price">
                                           <i class="fas fa-rupee-sign" style="color: #e7ab3c;"></i> <b style="color: #e7ab3c;" id="productpricemodal">{{this.productdetails.price}}</b> 
                                           {{#if this.productdetails.offer}}
                                             <span>{{this.productdetails.landingprice}}</span>
                                             {{/if}} 
                                        </div>
                                    </div>
   </div>

</div>


       

 <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>

      </div>
      <div class="modal-body">
        <h5><b>Select Size</b></h5>

   <div class="pd-size-choose mt-2 row">
                                    <p style="color:red" class="selectsize" id="selectsize">please select a size</p>
                                    <p style="color:red" class="selectsize" id="outofstock">Out of stock</p>
      
                                 {{!-- small --}}
                                 <div class="col-2">

                                      
                                     <div class="sc-item selectsize" id="smalloutofstock">
                                         
                                         <button class="roundmodalbutton"  onclick="outofstock()" style="color: grey;border:1px solid grey"  id="sm-size">S</button>
                                        {{!-- <label for="sm-size"  style="color: grey;">s</label> --}}
                                    </div>
                                  
                                   <div class="sc-item" id="smallstockin">
                                        <button class="roundmodalbutton" onclick="checksize('s')" id="sm-size">S</button>
                                      
                                    </div>
                                 

</div>
                                   {{!-- medium --}}
                                    <div class="col-2">
                                    
                                    <div class="sc-item selectsize" id="mediumoutofstock">
                                        <button class="roundmodalbutton" onclick="outofstock()" style="color: grey;border:1px solid grey" id="md-size">M</button>
                                        {{!-- <label for="md-size" style="color: rgb(182, 179, 179);">m</label> --}}
                                    </div>
                                 
                                     <div class="sc-item" id="mediumstockin">
                                        <button class="roundmodalbutton" onclick="checksize('m')" id="md-size">M</button>
                                       
                                    </div>
                                 

                                
                                  
</div>
                                    
                                    {{!-- large --}}
                                    <div class="col-2">
                                 
                                     
                                   <div class="sc-item selectsize" id="largeoutofstock">
                                        <button class="roundmodalbutton" onclick="outofstock()" style="color: grey;border:1px solid grey" id="lg-size">L</button>

                                        {{!-- <label for="lg-size" style="color: rgb(182, 179, 179);">l</label> --}}
                                    </div>
                                  
                                   <div class="sc-item" id="largestockin">
                                        <button class="roundmodalbutton" onclick="checksize('l')" id="lg-size">L</button>
                                       
                                    </div>
                                  

</div>


                                  





                                    {{!-- xs --}}
                                    {{!-- <div class="sc-item">
                                        <input type="radio" id="xl-size">
                                        <label for="xl-size">xs</label>
                                    </div> --}}
                                </div>


      </div>
      <div class="modal-footer">
       
        <button style="width: 100%;background-color:#e7ab3c;border:none" onclick="addtocartproduct()" type="button" class="btn btn-primary"><i class="fas fa-shopping-cart mr-3"></i>DONE</button>
      </div>
    </div>
  </div>
</div>
                     
                           
                        </div>
                    </div>
                  
                    {{else}}
                    <div class="d-flex justify-content-center">
<img src="/images/users/wishlistempty2.png" style="width:40%" alt="image">
</div>
                    {{/if}}

                    
                    {{!-- <div class="loading-more">
                        <i class="icon_loading"></i>
                        <a href="#">
                            Loading More
                        </a>
                    </div> --}}
                </div>
            </div>
        </div>
    </section>
    <!-- Product Shop Section End -->

    <!-- Partner Logo Section Begin -->
    {{!-- <div class="partner-logo">
        <div class="container">
            <div class="logo-carousel owl-carousel">
                <div class="logo-item">
                    <div class="tablecell-inner">
                        <img src="images/users/logo-carousel/logo-1.png" alt="">
                    </div>
                </div>
                <div class="logo-item">
                    <div class="tablecell-inner">
                        <img src="images/users/logo-carousel/logo-2.png" alt="">
                    </div>
                </div>
                <div class="logo-item">
                    <div class="tablecell-inner">
                        <img src="images/users/logo-carousel/logo-3.png" alt="">
                    </div>
                </div>
                <div class="logo-item">
                    <div class="tablecell-inner">
                        <img src="images/users/logo-carousel/logo-4.png" alt="">
                    </div>
                </div>
                <div class="logo-item">
                    <div class="tablecell-inner">
                        <img src="images/users/logo-carousel/logo-5.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div> --}}
    <!-- Partner Logo Section End -->
  


      <script src="javascripts/users/jquery-3.3.1.min.js"></script>



    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
let productIdForAddToCart  
let productPriceForAddToCart
var sizeOfProduct;
function checksize(size){ 
    
    document.getElementById('selectsize').classList.add('selectsize');
    document.getElementById('outofstock').classList.add('selectsize');
     sizeOfProduct = size;

}

function addtocartproduct(){
    console.log("hi")
 let cartcounts =  document.getElementById('cartcountvalue').innerHTML; 


    document.getElementById('selectsize').classList.add('selectsize');
if(sizeOfProduct){

    $.ajax({
        
        url:'/addtocartproduct?productid='+productIdForAddToCart+'&size='+sizeOfProduct+'&subtotal='+productPriceForAddToCart,
        method:'get',
         success:(response)=>{
          
             if(response.sessionrequired){
                 window.location.replace("/userlogin");
            }
             else if(response.added){
                 cartcounts = Number(cartcounts);
                document.getElementById('cartcountvalue').innerHTML = cartcounts+1;
                //  document.getElementById("addedcart").classList.remove("selectsize")
                // setTimeout(function(){ 
                //      document.getElementById("addedcart").classList.add("selectsize")
                //  }, 1000);
location.reload();
const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 1800,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

Toast.fire({
  icon: 'success',
  title: 'Added to cart succesfully'
})

                
                  
                  //  Toast.fire({
                    //  icon: 'success',
                  //    title: 'Item added to cart'
                 //   })
                 
              
             }
             else if(response.exist){
               //  document.getElementById("existincart").classList.remove("selectsize")
              //  setTimeout(function(){ 
                //     document.getElementById("existincart").classList.add("selectsize")
              //   }, 3000); 

const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 1800,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

Toast.fire({
  icon: 'warning',
  title: 'Product already exist in cart'
})


             }
     
         }
    })



}else{
    document.getElementById('selectsize').classList.remove('selectsize');
}

}





function wishlistAddtoCart(id){
    $.ajax({
        url:'productwishlist?productid='+id,
        method:'get',
        success:(response)=>{
             
          document.getElementById('brandnamemodal').innerHTML = response.productdetails.brand;
          document.getElementById('proimagemodal').src = "/images/product-images/"+response.productdetails._id+"1.png"

document.getElementById('modalproductname').innerHTML = response.productdetails.productname;

document.getElementById('productpricemodal').innerHTML = response.productdetails.price;

if(response.quantity.smalloutofstock){
document.getElementById('smalloutofstock').classList.remove('selectsize');
document.getElementById('smallstockin').classList.add('selectsize');
}

if(response.quantity.mediumoutofstock){
document.getElementById('mediumoutofstock').classList.remove('selectsize');
document.getElementById('mediumstockin').classList.add('selectsize');
}

if(response.quantity.largeoutofstock){
document.getElementById('largeoutofstock').classList.remove('selectsize');
document.getElementById('largestockin').classList.add('selectsize');
}

productIdForAddToCart = response.productdetails._id;
productPriceForAddToCart = response.productdetails.price
        }
    })
}




    </script>