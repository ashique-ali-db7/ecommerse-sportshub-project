<div class="container p-5">

<div class="col-6 me-auto ms-auto shadow p-3 mb-5 bg-body rounded">


<form action="/admin/categoryoffer" style="width: 80%;margin-left: 10%;" id="categoryoffer" method="post">




    
     
<h4 style="text-align: center;">Category offer managment</h4>
<p style="color: red;">{{categoryofferExistError}}</p>
 <div class="row mb-3">
          <div class="col-6">
    <select class="mt-4" style="height:45px;width:100%" name="category" id="">
         {{#each categoryData}}
         <option>{{this.category}}</option>
         {{/each}}
     </select><br>
</div>
<div class="col-6">
     <input type="text" name="discountpercentage" placeholder="Discount in percentage" class="mt-4" style="height:45px;width:100%">
</div>
     </div>

     <div class="row">

         <div class="col-6 mb-3">
 <label class="mt-3" for="caofferstartdate">Start date</label><br>
  <input type="date" id="llll" name="caofferstartdate" style="width:100%;height:45px;">
         </div>

           <div class="col-6">
 <label class="mt-3" for="caofferenddate">End date</label><br>
  <input type="date" id="mmmm"  name="caofferenddate" style="width:100%;height:45px;">
         </div>

     </div>





     <div class="mt-4" style="text-align: center;">
     <button type="submit" style="width: 50%;"  class="btn btn-primary">Submit</button>
     </div>
</form>


</div>

<div class="p-4" style="background-color: #fff;border:1px solid rgb(170, 167, 167)">
<table class="table" id="categoryoffertable">
  <thead>

    <tr>
  
      <th scope="col">Category</th>
      <th scope="col">Offer %</th>
      <th scope="col">start date</th>
      <th scope="col">End date</th>
            <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
       {{#each categoryOffers}}
    <tr>
      <td>{{this.category}}</td>
      <td>{{this.discountpercentage}}</td>
      <td>{{this.caofferstartdate}}</td>
      <td>{{this.caofferenddate}}</td>
   
      <td><button onclick="categoryOfferEdit('{{this._id}}')" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalforcategoryedit">Edit Offer</button></td>
      <td><button class="btn btn-danger" onclick="deletecategoryoffer('{{this.category}}','{{this.discountpercentage}}')">Delete Offer</button></td>
    </tr>
    {{/each}}
   
  </tbody>
</table>
</div>










<!-- Modal -->
<div class="modal fade" id="modalforcategoryedit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Edit offer</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
       <form action="/admin/editcategoryoffer" style="width: 80%;margin-left: 10%;" id="editcategoryoffer" method="post">




    
     
<h4 style="text-align: center;" id="disabledoption"></h4>
{{!-- <p style="color: red;">{{categoryofferExistError}}</p> --}}
 <div class="row mb-3">
           <div class="col-6" style="display: none;">
          <input type="text" name="category" id="hiddencategory" value="">
     {{!-- <select class="mt-4" style="height:45px;width:100%"  name="category" id="categoryedit">
      <option selected="true" disabled="disabled" id="disabledoption" ></option>
         {{#each categoryData}}
         <option>{{this.category}}</option>
         {{/each}} 
     </select><br> --}}
</div> 
<div class="col-12">
   <label class="mt-3" for="caofferstartdate">Discount in percentage</label><br>
     <input type="text" name="discountpercentage" id="discountedit" placeholder="Discount" class="mt-4" style="height:45px;width:100%">
</div>
     </div>

     <div class="row">

         <div class="col-6 mb-3">
 <label class="mt-3" for="caofferstartdate">Start date</label><br>
  <input type="date" id="startdateedit" name="caofferstartdate" style="width:100%;height:45px;">
         </div>

           <div class="col-6">
 <label class="mt-3" for="caofferenddate">End date</label><br>
  <input type="date" id="enddateedit" name="caofferenddate" style="width:100%;height:45px;">
         </div>

     </div>





     <div class="mt-4" style="text-align: center;">
     <button type="submit" style="width: 50%;"  class="btn btn-primary">Submit</button>
     </div>
</form>
      </div>
    
    </div>
  </div>
</div>


</div>

















  

